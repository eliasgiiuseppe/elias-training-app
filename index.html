                            <button onclick="app.setState({currentView: 'plans'})"
                                class="nav-btn ${this.state.currentView === 'plans' ? 'active' : ''}">
                                <span class="icon-calendar"></span>
                                <span class="text-xs mt-1">Pl√§ne</span>
                            </button>
                        </div>
                    </div>
                `;
            }
            
            render() {
                let content = '';
                
                switch (this.state.currentView) {
                    case 'home':
                        content = this.renderHome();
                        break;
                    case 'exercises':
                        content = this.renderExercises();
                        break;
                    case 'add-exercise':
                        content = this.renderAddExercise();
                        break;
                    case 'workouts':
                        content = this.renderWorkouts();
                        break;
                    case 'plans':
                        content = this.renderPlans();
                        break;
                    case 'exercise-execution':
                        content = this.renderExerciseExecution();
                        break;
                    case 'difficulty-rating':
                        content = this.renderDifficultyRating();
                        break;
                    case 'workout-complete':
                        content = this.renderWorkoutComplete();
                        break;
                    default:
                        content = this.renderHome();
                }
                
                document.getElementById('app').innerHTML = content + this.renderNavigation();
            }
        }
        
        // Initialize app
        const app = new ClimbingApp();
        
        // Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `
                    const CACHE_NAME = 'climbing-training-v3';
                    const urlsToCache = ['/'];
                    
                    self.addEventListener('install', (event) => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then((cache) => cache.addAll(urlsToCache))
                        );
                    });
                    
                    self.addEventListener('fetch', (event) => {
                        event.respondWith(
                            caches.match(event.request)
                                .then((response) => response || fetch(event.request))
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(() => console.log('SW registered'))
                    .catch(() => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climbing Training</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1f2937">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ClimbTraining">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #111827;
            color: white;
            overflow-x: hidden;
            user-select: none;
        }
        
        /* Layout utilities */
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .justify-around { justify-content: space-around; }
        .space-y-3 > * + * { margin-top: 0.75rem; }
        .space-y-4 > * + * { margin-top: 1rem; }
        .space-y-6 > * + * { margin-top: 1.5rem; }
        .space-x-2 > * + * { margin-left: 0.5rem; }
        .space-x-3 > * + * { margin-left: 0.75rem; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .w-full { width: 100%; }
        .flex-1 { flex: 1; }
        .text-center { text-align: center; }
        .hidden { display: none; }
        
        /* Typography */
        .font-bold { font-weight: 700; }
        .font-medium { font-weight: 500; }
        .font-mono { font-family: monospace; }
        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-4xl { font-size: 2.25rem; }
        .text-8xl { font-size: 6rem; }
        
        /* Colors */
        .text-gray-400 { color: #9ca3af; }
        .text-gray-300 { color: #d1d5db; }
        .text-orange-400 { color: #fb923c; }
        .text-orange-600 { color: #ea580c; }
        .text-green-400 { color: #4ade80; }
        .text-red-400 { color: #f87171; }
        .bg-gray-800 { background: #1f2937; }
        .bg-gray-700 { background: #374151; }
        .bg-gray-600 { background: #4b5563; }
        .bg-orange-500 { background: #f97316; }
        .bg-green-500 { background: #10b981; }
        .bg-red-500 { background: #ef4444; }
        .bg-yellow-500 { background: #eab308; }
        .bg-gradient { background: linear-gradient(to right, #f97316, #ef4444); }
        
        /* Layout components */
        .container { padding: 1.5rem; padding-bottom: 6rem; min-height: 100vh; }
        .card { background: #1f2937; padding: 1rem; border-radius: 1rem; margin-bottom: 0.75rem; }
        .nav { position: fixed; bottom: 0; left: 0; right: 0; background: #111827; padding: 0.5rem; }
        
        /* Buttons */
        .btn { padding: 0.75rem 1.5rem; border-radius: 0.75rem; border: none; font-weight: 700; cursor: pointer; transition: all 0.2s; }
        .btn-primary { background: #f97316; color: white; }
        .btn-primary:hover { background: #ea580c; }
        .btn-secondary { background: #374151; color: white; }
        .btn-danger { background: #ef4444; color: white; }
        .btn-success { background: #10b981; color: white; }
        .btn-large { padding: 1.5rem; font-size: 1.25rem; }
        .btn-round { width: 3rem; height: 3rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* Forms */
        .input { width: 100%; padding: 1rem; background: #1f2937; border: 1px solid #374151; border-radius: 0.75rem; color: white; font-size: 16px; }
        .input:focus { outline: none; border-color: #f97316; }
        
        /* Navigation */
        .nav-btn { 
            flex-direction: column; 
            align-items: center; 
            padding: 0.75rem; 
            border-radius: 0.5rem; 
            background: none; 
            border: none; 
            color: #6b7280; 
            cursor: pointer; 
            transition: color 0.2s; 
        }
        .nav-btn.active { color: #f97316; }
        .nav-btn:hover { color: #fb923c; }
        
        /* Special displays */
        .timer-display { 
            font-size: 6rem; 
            font-family: monospace; 
            font-weight: bold; 
            text-align: center; 
            margin: 2rem 0; 
            color: white;
        }
        .set-counter { 
            font-size: 2rem; 
            font-weight: bold; 
            text-align: center; 
            color: #f97316; 
            margin-bottom: 1rem; 
        }
        
        /* Overlay */
        .overlay { 
            position: fixed; 
            top: 0; left: 0; right: 0; bottom: 0; 
            background: rgba(0,0,0,0.8); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            z-index: 1000; 
        }
        .overlay-content { 
            background: #1f2937; 
            padding: 2rem; 
            border-radius: 1rem; 
            text-align: center; 
            max-width: 90vw; 
        }
        
        /* Icons using emoji for speed */
        .icon-home::before { content: "üè†"; font-size: 1.5rem; }
        .icon-dumbbell::before { content: "üí™"; font-size: 1.5rem; }
        .icon-play::before { content: "‚ñ∂Ô∏è"; font-size: 1.5rem; }
        .icon-calendar::before { content: "üìÖ"; font-size: 1.5rem; }
        .icon-plus::before { content: "+"; font-size: 1.5rem; font-weight: bold; }
        .icon-back::before { content: "‚Üê"; font-size: 1.5rem; }
        .icon-edit::before { content: "‚úèÔ∏è"; font-size: 1rem; }
        .icon-delete::before { content: "üóëÔ∏è"; font-size: 1rem; }
        .icon-check::before { content: "‚úÖ"; font-size: 1.5rem; }
        .icon-x::before { content: "‚ùå"; font-size: 1rem; }
        .icon-reset::before { content: "‚Üª"; font-size: 1.5rem; }
        
        /* Utilities */
        .mb-1 { margin-bottom: 0.25rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mt-1 { margin-top: 0.25rem; }
        .mt-4 { margin-top: 1rem; }
        .mr-2 { margin-right: 0.5rem; }
        .mr-4 { margin-right: 1rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .py-6 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
        
        /* Drag and drop */
        .draggable { cursor: move; }
        .draggable:hover { background: #374151; }
        
        /* Difficulty buttons */
        .diff-easy { background: linear-gradient(to right, #10b981, #059669); }
        .diff-moderate { background: linear-gradient(to right, #eab308, #ca8a04); }
        .diff-hard { background: linear-gradient(to right, #f97316, #ea580c); }
        .diff-very-hard { background: linear-gradient(to right, #ef4444, #dc2626); }
        
        /* Responsive adjustments */
        @media (max-width: 480px) {
            .timer-display { font-size: 4rem; }
            .container { padding: 1rem; padding-bottom: 5rem; }
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        class ClimbingApp {
            constructor() {
                this.state = {
                    currentView: 'home',
                    exercises: JSON.parse(localStorage.getItem('exercises') || '[]'),
                    workouts: JSON.parse(localStorage.getItem('workouts') || '[]'),
                    trainingPlans: JSON.parse(localStorage.getItem('trainingPlans') || '[]'),
                    currentWorkout: null,
                    currentExercise: null,
                    currentPlan: JSON.parse(localStorage.getItem('currentPlan') || 'null'),
                    timer: 0,
                    isTimerRunning: false,
                    currentSet: 1,
                    currentRep: 0,
                    restTimer: 0,
                    isRestTimerRunning: false,
                    showRestTimer: false,
                    stretchingExercises: [],
                    currentStretching: null,
                    replacementIndex: null,
                    exerciseForm: { name: '', type: 'reps', sets: 3, reps: 10, duration: 30, restTime: 60 },
                    workoutForm: { name: '', type: 'Strength', exercises: [] },
                    planForm: { name: '', workouts: [] },
                    stretchForm: { name: '', duration: 30 }
                };
                
                this.trainingTypes = ['Strength', 'Power', 'Projecting', 'Power Endurance', 'Endurance'];
                this.difficultyLevels = ['Easy', 'Moderate', 'Hard', 'Very Hard'];
                
                this.init();
            }
            
            init() {
                this.render();
                this.startTimers();
            }
            
            setState(newState) {
                Object.assign(this.state, newState);
                this.saveToStorage();
                this.render();
            }
            
            saveToStorage() {
                ['exercises', 'workouts', 'trainingPlans', 'currentPlan'].forEach(key => {
                    if (this.state[key] !== null) {
                        localStorage.setItem(key, JSON.stringify(this.state[key]));
                    }
                });
            }
            
            formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
            
            startTimers() {
                setInterval(() => {
                    if (this.state.isTimerRunning) {
                        this.setState({ timer: this.state.timer + 1 });
                    }
                    if (this.state.isRestTimerRunning) {
                        if (this.state.restTimer <= 1) {
                            this.setState({ 
                                isRestTimerRunning: false, 
                                showRestTimer: false, 
                                restTimer: 0 
                            });
                        } else {
                            this.setState({ restTimer: this.state.restTimer - 1 });
                        }
                    }
                }, 1000);
            }
            
            // Exercise Management
            addExercise() {
                if (!this.state.exerciseForm.name) return;
                const newExercise = { id: Date.now(), ...this.state.exerciseForm };
                this.setState({
                    exercises: [...this.state.exercises, newExercise],
                    exerciseForm: { name: '', type: 'reps', sets: 3, reps: 10, duration: 30, restTime: 60 },
                    currentView: 'exercises'
                });
            }
            
            deleteExercise(id) {
                this.setState({ exercises: this.state.exercises.filter(ex => ex.id !== id) });
            }
            
            // Workout Management
            addWorkout() {
                if (!this.state.workoutForm.name) return;
                const newWorkout = { id: Date.now(), ...this.state.workoutForm, exercises: [...this.state.workoutForm.exercises] };
                this.setState({
                    workouts: [...this.state.workouts, newWorkout],
                    workoutForm: { name: '', type: 'Strength', exercises: [] },
                    currentView: 'workouts'
                });
            }
            
            startWorkout(workout) {
                this.setState({
                    currentWorkout: {
                        ...workout,
                        exerciseProgress: workout.exercises.map(() => ({ currentSet: 1, completed: false }))
                    },
                    currentView: 'workout-overview'
                });
            }
            
            // Plan Management
            addPlan() {
                if (!this.state.planForm.name || this.state.planForm.workouts.length === 0) return;
                const newPlan = { id: Date.now(), ...this.state.planForm, workouts: [...this.state.planForm.workouts], currentWorkoutIndex: 0 };
                this.setState({
                    trainingPlans: [...this.state.trainingPlans, newPlan],
                    planForm: { name: '', workouts: [] },
                    currentView: 'plans'
                });
            }
            
            startWorkoutFromPlan(workoutIndex) {
                const workout = this.state.currentPlan.workouts[workoutIndex];
                this.setState({
                    currentWorkout: {
                        ...workout,
                        exerciseProgress: workout.exercises.map(() => ({ currentSet: 1, completed: false })),
                        fromPlan: true,
                        planWorkoutIndex: workoutIndex
                    },
                    currentView: 'workout-overview'
                });
            }
            
            // Exercise Execution
            startExercise(exerciseIndex) {
                const exercise = this.state.currentWorkout.exercises[exerciseIndex];
                this.setState({
                    currentExercise: { ...exercise, index: exerciseIndex },
                    currentSet: 1,
                    currentRep: 0,
                    timer: 0,
                    isTimerRunning: false,
                    currentView: 'exercise-execution'
                });
            }
            
            completeSet() {
                if (this.state.currentSet < this.state.currentExercise.sets) {
                    this.setState({
                        currentSet: this.state.currentSet + 1,
                        currentRep: 0,
                        timer: 0,
                        isTimerRunning: false,
                        restTimer: this.state.currentExercise.restTime,
                        isRestTimerRunning: true,
                        showRestTimer: true
                    });
                } else {
                    this.setState({ isTimerRunning: false, currentView: 'difficulty-rating' });
                }
            }
            
            rateDifficulty(difficulty) {
                const updatedWorkout = { ...this.state.currentWorkout };
                updatedWorkout.exerciseProgress[this.state.currentExercise.index].completed = true;
                this.setState({ currentWorkout: updatedWorkout, currentView: 'workout-overview' });
            }
            
            completeWorkout() {
                if (this.state.currentWorkout?.fromPlan) {
                    const updatedPlan = { ...this.state.currentPlan };
                    if (this.state.currentWorkout.planWorkoutIndex < this.state.currentPlan.workouts.length - 1) {
                        updatedPlan.currentWorkoutIndex = this.state.currentWorkout.planWorkoutIndex + 1;
                    }
                    this.setState({ currentPlan: updatedPlan });
                    this.setState({ trainingPlans: this.state.trainingPlans.map(plan => plan.id === updatedPlan.id ? updatedPlan : plan) });
                }
                this.setState({ currentView: 'add-stretching' });
            }
            
            // Stretching
            addStretchingExercise() {
                if (!this.state.stretchForm.name) return;
                const newStretching = { id: Date.now(), name: this.state.stretchForm.name, duration: this.state.stretchForm.duration, sets: 2 };
                this.setState({
                    stretchingExercises: [...this.state.stretchingExercises, newStretching],
                    stretchForm: { name: '', duration: 30 }
                });
            }
            
            startStretching(stretchExercise) {
                this.setState({
                    currentStretching: { ...stretchExercise, currentSet: 1 },
                    timer: 0,
                    currentView: 'stretching-execution'
                });
            }
            
            completeStretchingSet() {
                if (this.state.currentStretching.currentSet < this.state.currentStretching.sets) {
                    this.setState({
                        currentStretching: { ...this.state.currentStretching, currentSet: this.state.currentStretching.currentSet + 1 },
                        timer: 0,
                        isTimerRunning: false,
                        restTimer: 10,
                        isRestTimerRunning: true,
                        showRestTimer: true
                    });
                } else {
                    this.setState({ currentView: 'add-stretching' });
                }
            }
            
            finishWorkout() {
                // Add to simple history (just workout name and date)
                const historyEntry = {
                    workoutName: this.state.currentWorkout?.name || 'Training',
                    workoutType: this.state.currentWorkout?.type || '',
                    completedAt: new Date().toISOString(),
                    exerciseCount: this.state.currentWorkout?.exercises?.length || 0
                };
                
                let history = JSON.parse(localStorage.getItem('workoutHistory') || '[]');
                
                // Clean old entries (older than 6 weeks)
                const sixWeeksAgo = new Date();
                sixWeeksAgo.setDate(sixWeeksAgo.getDate() - 42);
                history = history.filter(entry => new Date(entry.completedAt) > sixWeeksAgo);
                
                // Add new entry
                history.push(historyEntry);
                localStorage.setItem('workoutHistory', JSON.stringify(history));
                
                this.setState({
                    currentWorkout: null,
                    currentExercise: null,
                    stretchingExercises: [],
                    currentView: 'workout-complete'
                });
                
                setTimeout(() => this.setState({ currentView: 'home' }), 2000);
            }
            
            // Drag and drop for exercises
            moveExercise(fromIndex, toIndex) {
                const updatedWorkout = { ...this.state.currentWorkout };
                const exercises = [...updatedWorkout.exercises];
                const progress = [...updatedWorkout.exerciseProgress];
                
                [exercises[fromIndex], exercises[toIndex]] = [exercises[toIndex], exercises[fromIndex]];
                [progress[fromIndex], progress[toIndex]] = [progress[toIndex], progress[fromIndex]];
                
                updatedWorkout.exercises = exercises;
                updatedWorkout.exerciseProgress = progress;
                this.setState({ currentWorkout: updatedWorkout });
            }
            
            // Replace exercise
            replaceExercise(index, newExercise) {
                const updatedWorkout = { ...this.state.currentWorkout };
                updatedWorkout.exercises[index] = newExercise;
                updatedWorkout.exerciseProgress[index] = { currentSet: 1, completed: false };
                this.setState({ currentWorkout: updatedWorkout, replacementIndex: null, currentView: 'workout-overview' });
            }
            
            // Form handlers
            updateForm(form, field, value) {
                this.setState({ [form]: { ...this.state[form], [field]: value } });
            }
            
            addExerciseToWorkout(exercise) {
                if (!this.state.workoutForm.exercises.find(ex => ex.id === exercise.id)) {
                    this.setState({
                        workoutForm: { ...this.state.workoutForm, exercises: [...this.state.workoutForm.exercises, exercise] }
                    });
                }
            }
            
            removeExerciseFromWorkout(index) {
                this.setState({
                    workoutForm: {
                        ...this.state.workoutForm,
                        exercises: this.state.workoutForm.exercises.filter((_, i) => i !== index)
                    }
                });
            }
            
            addWorkoutToPlan(workout) {
                if (!this.state.planForm.workouts.find(w => w.id === workout.id)) {
                    this.setState({
                        planForm: { ...this.state.planForm, workouts: [...this.state.planForm.workouts, workout] }
                    });
                }
            }
            
            removeWorkoutFromPlan(index) {
                this.setState({
                    planForm: {
                        ...this.state.planForm,
                        workouts: this.state.planForm.workouts.filter((_, i) => i !== index)
                    }
                });
            }
            
            renderExercises() {
                return `
                    <div class="container">
                        <div class="flex justify-between items-center mb-6">
                            <h1 class="text-2xl font-bold">√úbungen</h1>
                            <button onclick="app.setState({currentView: 'add-exercise'})" class="btn-round btn-primary">
                                <span class="icon-plus"></span>
                            </button>
                        </div>

                        <div class="space-y-3">
                            ${this.state.exercises.map(exercise => `
                                <div class="card">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <h3 class="font-bold text-lg">${exercise.name}</h3>
                                            <p class="text-gray-400 mt-1">
                                                ${exercise.sets} S√§tze √ó ${exercise.type === 'reps' ? `${exercise.reps} Wdh.` : `${exercise.duration}s`}
                                            </p>
                                            <p class="text-sm text-gray-400">Pause: ${exercise.restTime}s</p>
                                        </div>
                                        <div class="flex space-x-2">
                                            <button onclick="app.deleteExercise(${exercise.id})" class="text-red-400">
                                                <span class="icon-delete"></span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            `).join('') || `
                                <div class="text-center py-12">
                                    <p class="text-gray-400 mb-4">Noch keine √úbungen erstellt</p>
                                    <button onclick="app.setState({currentView: 'add-exercise'})" class="btn btn-primary">
                                        Erste √úbung hinzuf√ºgen
                                    </button>
                                </div>
                            `}
                        </div>
                    </div>
                `;
            }
            
            renderAddExercise() {
                return `
                    <div class="container">
                        <div class="flex items-center mb-6">
                            <button onclick="app.setState({currentView: 'exercises'})" class="mr-4 text-gray-400">
                                <span class="icon-back"></span>
                            </button>
                            <h1 class="text-2xl font-bold">√úbung hinzuf√ºgen</h1>
                        </div>

                        <div class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-3">Name</label>
                                <input type="text" value="${this.state.exerciseForm.name}" 
                                    oninput="app.updateForm('exerciseForm', 'name', this.value)"
                                    class="input" placeholder="z.B. Klimmz√ºge">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-3">Typ</label>
                                <div class="grid-2">
                                    <button onclick="app.updateForm('exerciseForm', 'type', 'reps')" 
                                        class="btn ${this.state.exerciseForm.type === 'reps' ? 'btn-primary' : 'btn-secondary'}">
                                        Wiederholungen
                                    </button>
                                    <button onclick="app.updateForm('exerciseForm', 'type', 'time')" 
                                        class="btn ${this.state.exerciseForm.type === 'time' ? 'btn-primary' : 'btn-secondary'}">
                                        Zeit
                                    </button>
                                </div>
                            </div>

                            <div class="grid-2">
                                <div>
                                    <label class="block text-sm font-medium text-gray-300 mb-3">S√§tze</label>
                                    <input type="number" value="${this.state.exerciseForm.sets}" 
                                        oninput="app.updateForm('exerciseForm', 'sets', parseInt(this.value))"
                                        class="input">
                                </div>
                                
                                ${this.state.exerciseForm.type === 'reps' ? `
                                    <div>
                                        <label class="block text-sm font-medium text-gray-300 mb-3">Wiederholungen</label>
                                        <input type="number" value="${this.state.exerciseForm.reps}" 
                                            oninput="app.updateForm('exerciseForm', 'reps', parseInt(this.value))"
                                            class="input">
                                    </div>
                                ` : `
                                    <div>
                                        <label class="block text-sm font-medium text-gray-300 mb-3">Dauer (Sek.)</label>
                                        <input type="number" value="${this.state.exerciseForm.duration}" 
                                            oninput="app.updateForm('exerciseForm', 'duration', parseInt(this.value))"
                                            class="input">
                                    </div>
                                `}
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-3">Pausenzeit (Sek.)</label>
                                <input type="number" value="${this.state.exerciseForm.restTime}" 
                                    oninput="app.updateForm('exerciseForm', 'restTime', parseInt(this.value))"
                                    class="input">
                            </div>

                            <button onclick="app.addExercise()" class="btn btn-primary btn-large w-full">
                                √úbung hinzuf√ºgen
                            </button>
                        </div>
                    </div>
                `;
            }
            
            renderWorkouts() {
                return `
                    <div class="container">
                        <div class="flex justify-between items-center mb-6">
                            <h1 class="text-2xl font-bold">Trainings</h1>
                            <button onclick="app.setState({currentView: 'add-workout'})" class="btn-round btn-primary">
                                <span class="icon-plus"></span>
                            </button>
                        </div>

                        <div class="space-y-4">
                            ${this.state.workouts.map(workout => `
                                <div class="card">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <h3 class="font-bold text-lg">${workout.name}</h3>
                                            <p class="text-orange-400 font-medium">${workout.type}</p>
                                            <p class="text-sm text-gray-400 mt-1">${workout.exercises.length} √úbungen</p>
                                        </div>
                                        <button onclick="app.startWorkout(${JSON.stringify(workout).replace(/"/g, '&quot;')})" 
                                            class="btn btn-primary">
                                            <span class="icon-play mr-2"></span>Start
                                        </button>
                                    </div>
                                </div>
                            `).join('') || `
                                <div class="text-center py-12">
                                    <p class="text-gray-400 mb-4">Noch keine Trainings erstellt</p>
                                    <button onclick="app.setState({currentView: 'add-workout'})" class="btn btn-primary">
                                        Erstes Training hinzuf√ºgen
                                    </button>
                                </div>
                            `}
                        </div>
                    </div>
                `;
            }
            
            renderPlans() {
                return `
                    <div class="container">
                        <div class="flex justify-between items-center mb-6">
                            <h1 class="text-2xl font-bold">Trainingspl√§ne</h1>
                            <button onclick="app.setState({currentView: 'add-plan'})" class="btn-round btn-primary">
                                <span class="icon-plus"></span>
                            </button>
                        </div>

                        <div class="space-y-4">
                            ${this.state.trainingPlans.map(plan => `
                                <div class="card">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <h3 class="font-bold text-lg">${plan.name}</h3>
                                            <p class="text-gray-400">${plan.workouts.length} Trainingseinheiten</p>
                                            <p class="text-sm text-orange-400 mt-1">
                                                N√§chstes: ${plan.workouts[plan.currentWorkoutIndex]?.name || 'Plan abgeschlossen'}
                                            </p>
                                        </div>
                                        <button onclick="app.setState({currentPlan: ${JSON.stringify(plan).replace(/"/g, '&quot;')}, currentView: 'plan-overview'})" 
                                            class="btn btn-primary">
                                            <span class="icon-play mr-2"></span>Start
                                        </button>
                                    </div>
                                </div>
                            `).join('') || `
                                <div class="text-center py-12">
                                    <p class="text-gray-400 mb-4">Noch keine Trainingspl√§ne erstellt</p>
                                    <button onclick="app.setState({currentView: 'add-plan'})" class="btn btn-primary">
                                        Ersten Plan erstellen
                                    </button>
                                </div>
                            `}
                        </div>
                    </div>
                `;
            }
